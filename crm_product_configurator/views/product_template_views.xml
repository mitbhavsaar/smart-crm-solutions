<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--Adding a group in the crm configurator section of the
    product template form view with the fields 'has_configurable_attributes'
    and 'product_config_mode'.-->
    <record id="product_template_only_form_view" model="ir.ui.view">
        <field name="name">product.template.view.form.inherit.crm.product.configurator</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_only_form_view"/>
        <field name="arch" type="xml">
           <xpath expr="//div[@name='options']" position="inside">
                <span class="d-inline-flex">
                    <field name="crm_enabled"/>
                    <label for="crm_enabled"/>
                </span>
            </xpath>

            <xpath expr="//page[@name='variants']" position="inside">
                <group name="product_mode_config" invisible="crm_enabled== False">
                    <group string="crm Variant Selection" invisible="has_configurable_attributes == False">
                        <field name="has_configurable_attributes" invisible="1"/>
                        <field name="product_config_mode" invisible="has_configurable_attributes == False"
                               widget="radio" nolabel="1" colspan="2"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>
</odoo>
